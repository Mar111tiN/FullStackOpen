(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{15:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(13),u=n.n(r),c=n(14),i=n(2),l=function(t){var e=t.note,n=t.toggleImportance,a=e.important?"make not important":"make important";return o.a.createElement("li",null,e.content,o.a.createElement("button",{onClick:n},a))},s=function(t){var e=t.onSubmit,n=t.onChange,a=t.text,r=t.input,u=t.onfocus,c=t.onblur;return o.a.createElement("form",{onSubmit:e},o.a.createElement("input",{value:r,onChange:n,onFocus:u,onBlur:c}),o.a.createElement("button",{type:"submit"},a))},m=function(t){var e=t.message;return e?o.a.createElement("div",{className:e.type},e.text):null},f=n(3),p=n.n(f),h=function(){return p.a.get("/api/notes").then((function(t){return t.data}))},d=function(t){return p.a.post("/api/notes",t).then((function(t){return t.data}))},b=function(t,e){return p.a.put("".concat("/api/notes","/").concat(t),e).then((function(t){return t.data}))},g=(n(37),function(t){var e=Object(a.useState)([]),n=Object(i.a)(e,2),r=n[0],u=n[1],f=Object(a.useState)("a new note goes here"),p=Object(i.a)(f,2),g=p[0],v=p[1],E=Object(a.useState)(!0),w=Object(i.a)(E,2),O=w[0],j=w[1],S=Object(a.useState)(null),y=Object(i.a)(S,2),k=y[0],x=y[1];Object(a.useEffect)((function(){h().then((function(t){return u(t)}))}),[]);var C=O?r:r.filter((function(t){return t.important}));return o.a.createElement("div",null,o.a.createElement("h1",null,"Notes"),o.a.createElement(m,{message:k}),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return j(!O)}},"show ",O?"important":"All")),o.a.createElement("ul",null,C.map((function(t){return o.a.createElement(l,{toggleImportance:(e=t.id,function(){var t=r.find((function(t){return t.id===e})),n=Object(c.a)({},t,{important:!t.important});b(e,n).then((function(n){u(r.map((function(t){return t.id===e?n:t}))),x({text:"the note's importance was changed to'".concat(t.important?"important":"not important","'"),type:"success"}),setTimeout((function(){return x(null)}),3e3)})).catch((function(n){x({text:"the note '".concat(t.content,"' was already deleted from server"),type:"error"}),u(r.filter((function(t){return t.id!==e})))}))}),key:t.id,note:t});var e}))),o.a.createElement(s,{onSubmit:function(t){t.preventDefault();var e={id:r.length+1,content:g,date:(new Date).toISOString(),important:Math.random()>.5};d(e).then((function(t){x({text:"the note '".concat(t.content,"' was saved to server"),type:"success"}),setTimeout((function(){return x(null)}),2e3),u(r.concat(t)),v("a new note goes here")}))},onChange:function(t){return v(t.target.value)},onfocus:function(){"a new note goes here"===g&&v("")},onblur:function(){""===g&&v("a new note goes here")},input:g,text:"save"}))});u.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2de1dd88.chunk.js.map