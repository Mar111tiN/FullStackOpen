(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{15:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),u=n(14),i=n(2),l=function(t){var e=t.note,n=t.toggleImportance,a=e.important?"make not important":"make important";return o.a.createElement("li",null,e.content,o.a.createElement("button",{onClick:n},a))},m=function(t){var e=t.onSubmit,n=t.onChange,a=t.text,r=t.input,c=t.onfocus,u=t.onblur;return o.a.createElement("form",{onSubmit:e},o.a.createElement("input",{value:r,onChange:n,onFocus:c,onBlur:u}),o.a.createElement("button",{type:"submit"},a))},s=function(t){var e=t.message;return e?o.a.createElement("div",{className:e.type},e.text):null},f=function(){return o.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},o.a.createElement("br",null),o.a.createElement("em",null,"Note app, BIH Cluster approved"))},p=n(3),d=n.n(p),h=function(){return d.a.get("api/notes").then((function(t){return t.data}))},b=function(t){return d.a.post("api/notes",t).then((function(t){return t.data}))},v=function(t,e){return d.a.put("".concat("api/notes","/").concat(t),e).then((function(t){return t.data}))},E=(n(37),function(t){var e=Object(a.useState)([]),n=Object(i.a)(e,2),r=n[0],c=n[1],p=Object(a.useState)("a new note goes here"),d=Object(i.a)(p,2),E=d[0],g=d[1],w=Object(a.useState)(!0),O=Object(i.a)(w,2),S=O[0],j=O[1],y=Object(a.useState)(null),k=Object(i.a)(y,2),x=k[0],C=k[1];Object(a.useEffect)((function(){h().then((function(t){return c(t)}))}),[]);var I=S?r:r.filter((function(t){return t.important}));return o.a.createElement("div",null,o.a.createElement("h1",null,"Notes"),o.a.createElement(s,{message:x}),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return j(!S)}},"show ",S?"important":"All")),o.a.createElement("ul",null,I.map((function(t){return o.a.createElement(l,{toggleImportance:(e=t.id,function(){var t=r.find((function(t){return t.id===e})),n=Object(u.a)({},t,{important:!t.important});v(e,n).then((function(n){c(r.map((function(t){return t.id===e?n:t}))),C({text:"the note's importance was changed to'".concat(t.important?"important":"not important","'"),type:"success"}),setTimeout((function(){return C(null)}),3e3)})).catch((function(n){C({text:"the note '".concat(t.content,"' was already deleted from server"),type:"error"}),c(r.filter((function(t){return t.id!==e})))}))}),key:t.id,note:t});var e}))),o.a.createElement(m,{onSubmit:function(t){t.preventDefault();var e={id:r.length+1,content:E,date:(new Date).toISOString(),important:Math.random()>.5};b(e).then((function(t){C({text:"the note '".concat(t.content,"' was saved to server"),type:"success"}),setTimeout((function(){return C(null)}),2e3),c(r.concat(t)),g("a new note goes here")}))},onChange:function(t){return g(t.target.value)},onfocus:function(){"a new note goes here"===E&&g("")},onblur:function(){""===E&&g("a new note goes here")},input:E,text:"save"}),o.a.createElement(f,null))});c.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f6638af0.chunk.js.map